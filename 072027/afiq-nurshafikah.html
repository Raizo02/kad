<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ain & Hidayat | Jemputan Premium</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use elegant fonts -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;700&family=Inter:wght@300;400;600;700&display=swap');

        /* Custom styles for the premium aesthetic */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F4F0;
            /* Cream/Light Beige Background */
            color: #2F2F2F;
            /* Dark text for contrast */
            overflow-x: hidden;
        }

        /* Deep Wine/Berry Color (Primary Accent) */
        .primary-color {
            color: #6D2C4D;
        }

        .primary-bg {
            background-color: #6D2C4D;
        }

        .primary-hover:hover {
            background-color: #4A1E33;
        }

        /* Gold/Secondary Accent Color (for highlights/dividers) */
        .secondary-color {
            color: #D4AF37;
        }

        .border-secondary {
            border-color: #D4AF37;
        }

        /* Elegant Header Font */
        .header-text {
            font-family: 'Cormorant Garamond', serif;
        }

        /* Main Content Background (simulating the illustrated arch/gate) */
        /* Placeholder for a dark, illustrated background */
        .main-bg {
            background-image: url('https://placehold.co/700x1200/503444/D4AF37?text=Premium+Floral+Arch');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        /* Splash Screen Background with Blur */
        .splash-bg {
            background-image: url('https://placehold.co/700x1200/503444/D4AF37?text=Blurred+Floral+Arch');
            background-size: cover;
            background-position: center;
            filter: blur(8px);
            -webkit-filter: blur(8px);
            transition: all 1s ease-in-out;
        }

        /* Overlay Panels (Slide up from bottom) */
        .panel-overlay {
            transform: translateY(100%);
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            /* Smoother slide */
        }

        .panel-overlay.active {
            transform: translateY(0);
        }

        /* Bottom Nav Styling (Darker background) */
        #bottom-nav {
            background-color: #F8F4F0;
            border-top: 2px solid #D4AF37;
            /* Gold accent line */
        }

        .nav-btn {
            color: #6D2C4D;
            /* Primary color for icons */
            transition: color 0.2s ease;
        }

        .nav-btn:hover {
            color: #D4AF37;
            /* Gold on hover */
        }

        /* Subtle text shadow for elegance */
        .text-shadow-elegant {
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body class="text-gray-800">

    <!-- 0. Splash Screen / Entrance Gate -->
    <div id="splash-screen"
        class="fixed inset-0 z-50 flex items-center justify-center transition-opacity duration-1000">
        <div class="splash-bg absolute inset-0"></div>
        <div class="z-10 text-center text-white p-8 rounded-lg">
            <p class="text-xl md:text-2xl mb-2 tracking-widest secondary-color">WALIMATUL URUS</p>
            <h1 class="header-text text-7xl md:text-9xl font-bold primary-color text-shadow-elegant mb-6 leading-tight">
                Ain <br>&<br> Hidayat
            </h1>
            <button id="buka-btn" onclick="revealInvitation()"
                class="primary-bg text-white px-8 py-3 mt-4 rounded-xl text-lg font-semibold primary-hover shadow-xl transition duration-300 transform active:scale-95">
                BUKA UNDANGAN
            </button>
        </div>
    </div>

    <!-- Audio Element (Hidden) -->
    <audio id="bg-music" loop></audio>

    <!-- Main Content Wrapper (Initially Hidden) -->
    <div id="main-content"
        class="min-h-screen pt-4 pb-20 main-bg overflow-auto opacity-0 pointer-events-none transition-opacity duration-1000">

        <!-- 1. Hero Section -->
        <header
            class="flex flex-col justify-center items-center text-center p-4 pt-16 bg-white/70 backdrop-blur-sm shadow-xl">
            <p class="text-lg md:text-xl text-gray-700 mb-2">Jemputan Majlis Perkahwinan</p>

            <!-- Parents' Names (as seen in the design) -->
            <div class="mb-6 text-sm text-gray-600 italic max-w-sm">
                <p>Assalamualaikum wbt & salam sejahtera,</p>
                <p>Shahrudin Bin Ahmad & Norhayati Binti Hussin</p>
                <p>Dengan penuh kesyukuran, kami menjemput Dato' | Datin | Tuan | Puan | Encik | Cik ke majlis
                    perkahwinan anakanda kami:</p>
            </div>

            <h1
                class="header-text text-6xl md:text-8xl font-bold primary-color mb-6 tracking-tight text-shadow-elegant">
                Ain & Hidayat
            </h1>

            <!-- Date block -->
            <div class="border-y-2 border-secondary py-3 my-4">
                <p class="header-text text-3xl md:text-4xl primary-color font-bold mb-1">
                    SABTU
                </p>
                <p class="header-text text-2xl md:text-3xl primary-color font-medium tracking-widest">
                    27 | 12 | 2025
                </p>
            </div>


            <p class="text-lg md:text-xl text-gray-700 mt-6 mb-1">Lokasi Majlis:</p>
            <p class="header-text text-xl md:text-2xl text-gray-800 mb-8 font-semibold secondary-color">
                Forest Valley Hall, Cheras, Selangor
            </p>

            <!-- Countdown Timer -->
            <div id="countdown"
                class="flex justify-center space-x-4 md:space-x-8 mt-4 p-4 bg-white/80 rounded-xl shadow-inner border border-secondary/50">
                <!-- Timer will be populated by JS -->
            </div>

            <p class="mt-12 mb-16 text-base md:text-lg text-gray-600 max-w-xl italic">
                "Dan di antara tanda-tanda kebesaran-Nya ialah Dia menciptakan untukmu pasangan-pasangan dari jenismu
                sendiri..." (Ar-Rum: 21)
            </p>
        </header>

        <!-- 2. Invitation Details Section -->
        <section id="details" class="py-12 bg-white/80">
            <div class="container mx-auto px-4 max-w-4xl text-center">
                <h2 class="header-text text-4xl font-bold primary-color mb-12">Detail & Atur Cara Majlis</h2>

                <div class="grid md:grid-cols-2 gap-10">

                    <!-- Akad Nikah Card -->
                    <div class="p-8 border-2 border-secondary rounded-xl shadow-lg bg-white/90">
                        <h3 class="header-text text-3xl font-bold primary-color mb-4">Majlis Akad Nikah</h3>
                        <p class="text-lg font-semibold text-gray-700 mb-2">Jumaat, 26 Dis 2025</p>
                        <p class="text-md text-gray-600 mb-4">8:30 Malam</p>
                        <p class="text-sm text-gray-500 mb-6">Kediaman Keluarga Pengantin Perempuan,<br>Kuala Lumpur.
                        </p>
                        <button onclick="openPanel('location-panel')"
                            class="text-sm text-white primary-bg px-5 py-2 rounded-full inline-block primary-hover transition duration-300 shadow-md">
                            Lihat Lokasi
                        </button>
                    </div>

                    <!-- Resepsi Card -->
                    <div class="p-8 border-2 border-secondary rounded-xl shadow-lg bg-white/90">
                        <h3 class="header-text text-3xl font-bold primary-color mb-4">Majlis Persandingan</h3>
                        <p class="text-lg font-semibold text-gray-700 mb-2">Sabtu, 27 Dis 2025</p>
                        <p class="text-md text-gray-600 mb-4">Jamuan Makan: 11:00 pagi - 4:00 petang</p>
                        <p class="text-sm text-gray-500 mb-6">Ketibaan Pengantin: 12:30 tengah hari<br>Forest Valley
                            Hall, Cheras.</p>
                        <button onclick="openPanel('location-panel')"
                            class="text-sm text-white primary-bg px-5 py-2 rounded-full inline-block primary-hover transition duration-300 shadow-md">
                            Lihat Lokasi
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. Photo Gallery Section -->
        <section id="gallery" class="py-16 bg-[#fcf8f7]/80">
            <div class="container mx-auto px-4 max-w-5xl text-center">
                <h2 class="header-text text-4xl font-bold primary-color mb-12">Galeri Kenangan</h2>

                <div class="overflow-x-auto">
                    <div class="flex gap-4 pb-4 snap-x snap-mandatory">
                        <img src="https://placehold.co/300x400/D4AF37/6D2C4D?text=Photo+1" alt="Couple photo 1"
                            class="w-64 md:w-72 flex-shrink-0 object-cover rounded-lg shadow-md aspect-[3/4] border-2 border-secondary snap-start">
                        <img src="https://placehold.co/300x400/D4AF37/6D2C4D?text=Photo+2" alt="Couple photo 2"
                            class="w-64 md:w-72 flex-shrink-0 object-cover rounded-lg shadow-md aspect-[3/4] border-2 border-secondary snap-start">
                        <img src="https://placehold.co/300x400/D4AF37/6D2C4D?text=Photo+3" alt="Couple photo 3"
                            class="w-64 md:w-72 flex-shrink-0 object-cover rounded-lg shadow-md aspect-[3/4] border-2 border-secondary snap-start">
                        <img src="https://placehold.co/300x400/D4AF37/6D2C4D?text=Photo+4" alt="Couple photo 4"
                            class="w-64 md:w-72 flex-shrink-0 object-cover rounded-lg shadow-md aspect-[3/4] border-2 border-secondary snap-start">
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-gray-800/90 text-white text-center p-8 mt-12">
            <p class="header-text text-xl font-bold mb-2 secondary-color">Salam Kasih</p>
            <p class="text-sm text-gray-400">Kehadiran dan doa anda adalah hadiah yang paling bermakna.</p>
            <p class="text-xs mt-4 text-gray-500">&copy; 2025 Ain & Hidayat.</p>
        </footer>

    </div> <!-- End Main Content -->

    <!-- 5. Fixed Bottom Navigation Bar -->
    <nav id="bottom-nav" class="fixed bottom-0 left-0 right-0 z-40 p-2 flex justify-around">
        <button onclick="toggleMusic()" class="nav-btn flex flex-col items-center p-1 text-xs transition duration-150">
            <svg id="music-icon-nav" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path
                    d="M9 19V6l12-3v13M9 19c-1.33 0-3-.67-3-2s1.67-2 3-2 3 .67 3 2-1.67 2-3 2zM21 17c-1.33 0-3-.67-3-2s1.67-2 3-2 3 .67 3 2-1.67 2-3 2z">
                </path>
            </svg>
            <span id="music-status-nav">Muzik</span>
        </button>
        <button onclick="openPanel('calendar-panel')"
            class="nav-btn flex flex-col items-center p-1 text-xs transition duration-150">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
            <span>Kalendar</span>
        </button>
        <button onclick="openPanel('location-panel')"
            class="nav-btn flex flex-col items-center p-1 text-xs transition duration-150">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.828 0l-4.243-4.243a8 8 0 1111.314 0z"></path>
                <path d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
            <span>Lokasi</span>
        </button>
        <button onclick="openPanel('contact-panel')"
            class="nav-btn flex flex-col items-center p-1 text-xs transition duration-150">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path
                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z">
                </path>
            </svg>
            <span>Hubungi</span>
        </button>
        <button onclick="openPanel('rsvp-panel')"
            class="nav-btn flex flex-col items-center p-1 text-xs transition duration-150">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                <path
                    d="M12 4.354l.35 1.458a1 1 0 00.95.698h.74l1.458.35a1 1 0 00.698-.95l.35-1.458a1 1 0 00-.95-.698h-.74l-1.458-.35a1 1 0 00-.698.95zM12 20.646l.35-1.458a1 1 0 00.95-.698h.74l1.458-.35a1 1 0 00.698.95l.35 1.458a1 1 0 00-.95.698h-.74l-1.458.35a1 1 0 00-.698-.95zM12 12a1 1 0 11-2 0 1 1 0 012 0zM12 12v9m-4-8h8">
                </path>
            </svg>
            <span>RSVP</span>
        </button>
    </nav>

    <!-- 6. Sliding Overlay Panels -->

    <!-- Panel Backdrop -->
    <div id="backdrop" onclick="closePanel()"
        class="fixed inset-0 bg-black/60 z-30 opacity-0 pointer-events-none transition-opacity duration-300"></div>

    <!-- Calendar Panel -->
    <div id="calendar-panel"
        class="panel-overlay fixed bottom-0 left-0 right-0 z-40 bg-white rounded-t-xl shadow-2xl p-6 max-h-[80vh] overflow-y-auto">
        <h3 class="header-text text-3xl font-bold primary-color mb-4 text-center border-b border-secondary pb-2">Simpan
            Tarikh (Save The Date)</h3>
        <p class="text-sm text-gray-500 mb-6 text-center">Jangan lupa tarikh penting ini!</p>

        <div class="flex justify-center gap-4">
            <a href="#"
                class="flex flex-col items-center p-4 border border-secondary rounded-xl hover:bg-gray-50 w-full max-w-[150px] transition duration-200">
                <svg class="w-8 h-8 primary-color mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z">
                    </path>
                </svg>
                <span class="text-sm font-medium">Apple Calendar</span>
            </a>
            <a href="#"
                class="flex flex-col items-center p-4 border border-secondary rounded-xl hover:bg-gray-50 w-full max-w-[150px] transition duration-200">
                <svg class="w-8 h-8 primary-color mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z">
                    </path>
                </svg>
                <span class="text-sm font-medium">Google Calendar</span>
            </a>
        </div>
        <button onclick="closePanel()"
            class="mt-8 w-full py-2 text-sm primary-color border border-gray-300 rounded-lg hover:bg-gray-100 font-medium">Tutup</button>
    </div>

    <!-- Location Panel -->
    <div id="location-panel"
        class="panel-overlay fixed bottom-0 left-0 right-0 z-40 bg-white rounded-t-xl shadow-2xl p-6 max-h-[80vh] overflow-y-auto">
        <h3 class="header-text text-3xl font-bold primary-color mb-4 text-center border-b border-secondary pb-2">
            Navigasi Lokasi</h3>
        <p class="text-sm text-gray-500 mb-6 text-center">Majlis Persandingan: Forest Valley Hall, Cheras</p>

        <div class="flex gap-4 justify-center">
            <a href="https://maps.app.goo.gl/example" target="_blank"
                class="flex flex-col items-center p-4 border border-secondary rounded-xl hover:bg-gray-50 w-full max-w-[150px] transition duration-200">
                <img src="https://www.google.com/images/branding/product/2x/maps_light_sq_plus_100x100dp.png"
                    onerror="this.onerror=null;this.src='https://placehold.co/40x40/FFF/000?text=Map';"
                    alt="Google Maps" class="w-8 h-8 mb-2">
                <span class="text-sm font-medium">Google Maps</span>
            </a>
            <a href="https://www.waze.com/ul?q=Forest+Valley+Hall+Cheras" target="_blank"
                class="flex flex-col items-center p-4 border border-secondary rounded-xl hover:bg-gray-50 w-full max-w-[150px] transition duration-200">
                <img src="https://upload.wikimedia.org/wikipedia/commons/e/e6/Waze_logo.svg"
                    onerror="this.onerror=null;this.src='https://placehold.co/40x40/FFF/000?text=Wz';" alt="Waze"
                    class="w-8 h-8 mb-2">
                <span class="text-sm font-medium">Waze</span>
            </a>
        </div>

        <button onclick="closePanel()"
            class="mt-8 w-full py-2 text-sm primary-color border border-gray-300 rounded-lg hover:bg-gray-100 font-medium">Tutup</button>
    </div>

    <!-- Contact Panel -->
    <div id="contact-panel"
        class="panel-overlay fixed bottom-0 left-0 right-0 z-40 bg-white rounded-t-xl shadow-2xl p-6 max-h-[80vh] overflow-y-auto">
        <h3 class="header-text text-3xl font-bold primary-color mb-4 text-center border-b border-secondary pb-2">Hubungi
            Kami</h3>

        <div class="space-y-4">
            <!-- Contact 1 -->
            <div class="flex items-center justify-between p-3 border-b border-gray-100 hover:bg-gray-50 rounded-lg">
                <div>
                    <p class="font-medium text-gray-800">Shahrudin</p>
                    <p class="text-xs text-gray-500">Bapa Pengantin Perempuan</p>
                </div>
                <div class="flex gap-4">
                    <a href="https://wa.me/60123456789" target="_blank"
                        class="text-gray-700 hover:text-green-500 transition duration-200">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M12.03 2.01c-5.54 0-10.03 4.49-10.03 10.03 0 1.98.58 3.86 1.64 5.46l-1.07 3.93 4.01-1.05c1.58.87 3.37 1.34 5.45 1.34h.01c5.54 0 10.03-4.49 10.03-10.03s-4.49-10.03-10.03-10.03zM16.94 15.65c-.24.51-.82.68-1.33.44l-2.5-1.55c-.4-.25-.86-.25-1.26 0l-2.5 1.55c-.51.24-1.1.07-1.33-.44-.24-.51-.07-1.1.44-1.33l1.55-.96c.4-.25.86-.25 1.26 0l1.55.96c.51.24.68.82.44 1.33zM12.03 4.01c4.42 0 8.03 3.61 8.03 8.03s-3.61 8.03-8.03 8.03c-1.7 0-3.32-.53-4.66-1.51l-.22-.16-2.27.6-1.89-1.89.6-2.27-.16-.22c-1-.7-1.51-2.02-1.51-4.16 0-4.42 3.61-8.03 8.03-8.03z">
                            </path>
                        </svg>
                    </a>
                    <a href="tel:60123456789" class="text-gray-700 hover:text-blue-500 transition duration-200">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z">
                            </path>
                        </svg>
                    </a>
                </div>
            </div>
            <!-- Contact 2 -->
            <div class="flex items-center justify-between p-3 border-b border-gray-100 hover:bg-gray-50 rounded-lg">
                <div>
                    <p class="font-medium text-gray-800">Norhayati</p>
                    <p class="text-xs text-gray-500">Ibu Pengantin Perempuan</p>
                </div>
                <div class="flex gap-4">
                    <a href="https://wa.me/60198765432" target="_blank"
                        class="text-gray-700 hover:text-green-500 transition duration-200">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M12.03 2.01c-5.54 0-10.03 4.49-10.03 10.03 0 1.98.58 3.86 1.64 5.46l-1.07 3.93 4.01-1.05c1.58.87 3.37 1.34 5.45 1.34h.01c5.54 0 10.03-4.49 10.03-10.03s-4.49-10.03-10.03-10.03zM16.94 15.65c-.24.51-.82.68-1.33.44l-2.5-1.55c-.4-.25-.86-.25-1.26 0l-2.5 1.55c-.51.24-1.1.07-1.33-.44-.24-.51-.07-1.1.44-1.33l1.55-.96c.4-.25.86-.25 1.26 0l1.55.96c.51.24.68.82.44 1.33zM12.03 4.01c4.42 0 8.03 3.61 8.03 8.03s-3.61 8.03-8.03 8.03c-1.7 0-3.32-.53-4.66-1.51l-.22-.16-2.27.6-1.89-1.89.6-2.27-.16-.22c-1-.7-1.51-2.02-1.51-4.16 0-4.42 3.61-8.03 8.03-8.03z">
                            </path>
                        </svg>
                    </a>
                    <a href="tel:60198765432" class="text-gray-700 hover:text-blue-500 transition duration-200">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z">
                            </path>
                        </svg>
                    </a>
                </div>
            </div>
        </div>

        <div class="mt-6 border-t pt-4 border-secondary/50">
            <h4 class="text-xl font-semibold primary-color mb-3 text-center">Maklumat Hadiah (Salam Kasih)</h4>
            <div class="bg-gray-50 p-4 rounded-lg border">
                <p class="font-medium mb-2 text-gray-700">Bank Transfer (Maybank):</p>
                <div class="flex justify-between items-center bg-white p-3 rounded-lg border-secondary border">
                    <span id="bank-acc-display" class="font-bold text-lg primary-color">562375417612</span>
                    <button onclick="copyToClipboard('562375417612 (Maybank)')"
                        class="text-xs secondary-color bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full border border-secondary transition duration-200">
                        Salin
                    </button>
                </div>
            </div>
        </div>

        <button onclick="closePanel()"
            class="mt-8 w-full py-2 text-sm primary-color border border-gray-300 rounded-lg hover:bg-gray-100 font-medium">Tutup
            Panel</button>
    </div>

    <!-- RSVP Panel -->
    <div id="rsvp-panel"
        class="panel-overlay fixed bottom-0 left-0 right-0 z-40 bg-white rounded-t-xl shadow-2xl p-6 max-h-[80vh] overflow-y-auto">
        <h3 class="header-text text-3xl font-bold primary-color mb-4 text-center border-b border-secondary pb-2">RSVP &
            Ucapan</h3>

        <!-- Message/Error Box -->
        <div id="message-box" class="p-3 mb-4 rounded-lg text-sm hidden"></div>

        <!-- RSVP Form -->
        <form id="rsvp-form" class="space-y-4 p-6 border-2 border-secondary rounded-xl shadow-lg bg-gray-50">
            <p class="text-sm font-medium primary-color">Sila RSVP kehadiran anda sebelum 27 Disember 2025.</p>
            <div class="flex gap-4 mb-4">
                <label class="inline-flex items-center">
                    <input type="radio" name="attendance" value="Hadir" required
                        class="text-green-600 focus:ring-green-600">
                    <span class="ml-2 text-gray-600">Hadir</span>
                </label>
                <label class="inline-flex items-center">
                    <input type="radio" name="attendance" value="Tidak Hadir" class="text-red-600 focus:ring-red-600">
                    <span class="ml-2 text-gray-600">Tidak Hadir</span>
                </label>
            </div>

            <div>
                <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Nama Penuh*</label>
                <input type="text" id="name" required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-color focus:border-primary-color">
            </div>

            <div>
                <label for="pax" class="block text-sm font-medium text-gray-700 mb-1">Jumlah Kehadiran (Orang)*</label>
                <select id="pax" required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-color focus:border-primary-color bg-white">
                    <option value="1">1 orang</option>
                    <option value="2">2 orang</option>
                    <option value="3">3 orang</option>
                    <option value="4">4 orang</option>
                    <option value="5">5 orang</option>
                </select>
            </div>

            <div>
                <label for="timeslot" class="block text-sm font-medium text-gray-700 mb-1">Slot Pilihan*</label>
                <select id="timeslot" required
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-color focus:border-primary-color bg-white">
                    <option value="11:00am - 12:00pm">11:00am - 12:00pm</option>
                    <option value="12:00pm - 1:00pm">12:00pm - 1:00pm</option>
                    <option value="1:00pm - 2:00pm">1:00pm - 2:00pm</option>
                    <option value="2:00pm - 4:00pm">2:00pm - 4:00pm</option>
                </select>
            </div>


            <div>
                <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Doa / Ucapan (jika
                    ada)</label>
                <textarea id="message" rows="3"
                    class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-color focus:border-primary-color"></textarea>
            </div>

            <button type="submit"
                class="w-full primary-bg text-white py-3 rounded-lg font-semibold text-lg primary-hover transition duration-300 shadow-md transform active:scale-[0.98]">
                Hantar Ucapan & RSVP
            </button>
        </form>

        <!-- Guestbook Messages List -->
        <div class="mt-8">
            <h4 class="header-text text-2xl font-bold primary-color mb-4 border-b border-secondary pb-2">Ucapan Tetamu
            </h4>
            <div id="messages-list" class="space-y-3">
                <!-- Messages will be populated here -->
            </div>
        </div>

        <button onclick="closePanel()"
            class="mt-6 w-full py-2 text-sm primary-color border border-gray-300 rounded-lg hover:bg-gray-100 font-medium">Tutup
            Panel</button>
    </div>

    <script>
        // --- Configuration ---
        const eventDate = new Date("2025-12-27T11:00:00").getTime(); // Set to 27 Dec 2025, 11:00am (start of jamuan makan)
        const countdownElement = document.getElementById('countdown');
        const bgMusic = document.getElementById('bg-music');

        // --- Panel State ---
        let activePanel = null;

        // --- Utility Functions ---

        /**
         * Reveals the main invitation content and fades out the splash screen.
         */
        function revealInvitation() {
            const splashScreen = document.getElementById('splash-screen');
            const mainContent = document.getElementById('main-content');

            // 1. Hide Splash Screen (opacity fade out)
            splashScreen.style.opacity = '0';

            // 2. Show Main Content
            mainContent.classList.remove('opacity-0', 'pointer-events-none');
            mainContent.classList.add('opacity-100');

            setTimeout(() => {
                // 3. Remove splash screen from flow after transition
                splashScreen.style.display = 'none';

                // 4. Start music (optional, may not work due to browser autoplay policy)
                toggleMusic(true);

            }, 1000); // Matches transition duration
        }

        /**
         * Opens a sliding panel from the bottom.
         * @param {string} panelId The ID of the panel to open.
         */
        function openPanel(panelId) {
            closePanel(); // Close any existing panel first

            activePanel = document.getElementById(panelId);
            const backdrop = document.getElementById('backdrop');

            if (activePanel) {
                // Ensure form message box is hidden when opening (for RSVP panel)
                const panelMessageBox = activePanel.querySelector('#message-box');
                if (panelMessageBox) {
                    panelMessageBox.classList.add('hidden');
                }

                activePanel.classList.add('active');
                backdrop.classList.remove('opacity-0', 'pointer-events-none');
                backdrop.classList.add('opacity-100');
            }
        }

        /**
         * Closes the currently active sliding panel.
         */
        function closePanel() {
            if (activePanel) {
                activePanel.classList.remove('active');
                const backdrop = document.getElementById('backdrop');
                backdrop.classList.remove('opacity-100');
                backdrop.classList.add('opacity-0', 'pointer-events-none');
                activePanel = null;
            }
        }

        /**
         * Simulates copying text to the clipboard and shows a message.
         * @param {string} text The text to copy.
         */
        function copyToClipboard(text) {
            const tempInput = document.createElement('textarea');
            tempInput.value = text;
            document.body.appendChild(tempInput);
            tempInput.select();

            let success = false;
            try {
                success = document.execCommand('copy');
            } catch (err) {
                console.error('Failed to copy text', err);
            }

            document.body.removeChild(tempInput);

            if (success) {
                showMessage(`Maklumat '${text.split('(')[0].trim()}' berjaya disalin!`, 'success');
            } else {
                showMessage('Gagal menyalin. Sila salin secara manual: ' + text, 'error');
            }
        }

        /**
         * Displays a temporary message in the UI (specifically the RSVP panel message box).
         * @param {string} message The message content.
         * @param {'success'|'error'|'info'} type The type of message.
         */
        function showMessage(message, type) {
            // Find the message box inside the RSVP panel
            const rsvpPanel = document.getElementById('rsvp-panel');
            const box = rsvpPanel ? rsvpPanel.querySelector('#message-box') : null;

            if (!box) return; // Exit if message box cannot be found

            box.textContent = message;
            box.className = 'p-3 mb-4 rounded-lg text-sm'; // Reset classes
            box.classList.remove('hidden');

            switch (type) {
                case 'success':
                    box.classList.add('bg-green-100', 'text-green-800');
                    break;
                case 'error':
                    box.classList.add('bg-red-100', 'text-red-800');
                    break;
                case 'info':
                default:
                    box.classList.add('bg-blue-100', 'text-blue-800');
                    break;
            }

            // Auto-hide the message after 5 seconds
            setTimeout(() => {
                box.classList.add('hidden');
            }, 5000);
        }

        // --- Countdown Timer Logic ---

        /**
         * Formats a single time value for the countdown display.
         */
        function formatTimeBlock(value, label) {
            return `
                <div class="text-center w-1/4">
                    <div class="header-text text-4xl md:text-5xl font-extrabold primary-color leading-none">${String(value).padStart(2, '0')}</div>
                    <div class="text-xs md:text-sm font-medium text-gray-600 mt-1">${label}</div>
                </div>
            `;
        }

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = eventDate - now;

            if (distance < 0) {
                countdownElement.innerHTML = `<div class="text-xl font-bold primary-color">Alhamdulillah, Hari Bahagia Telah Tiba!</div>`;
                clearInterval(countdownInterval);
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Replicating the design's layout (without colon separators)
            countdownElement.innerHTML = [
                formatTimeBlock(days, "HARI"),
                formatTimeBlock(hours, "JAM"),
                formatTimeBlock(minutes, "MINIT"),
                formatTimeBlock(seconds, "SAAT")
            ].join('');
        }

        const countdownInterval = setInterval(updateCountdown, 1000);
        updateCountdown(); // Initial call to display immediately

        // --- Guestbook / RSVP Simulation Logic (Simplified in-memory) ---

        let messages = [
            { name: "Norhayati", message: "Tahniah! Semoga kekal bahagia hingga ke Jannah.", attendance: "Hadir" },
            { name: "Shahrudin", message: "Selamat Pengantin Baru! Maaf tak dapat hadir, tapi doa dari jauh.", attendance: "Tidak Hadir" },
        ];

        const messagesListElement = document.getElementById('messages-list');
        const rsvpForm = document.getElementById('rsvp-form');

        function renderMessages() {
            messagesListElement.innerHTML = messages.map(msg => `
                <div class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm">
                    <p class="font-semibold text-gray-800">${msg.name} 
                        <span class="text-xs ml-2 ${msg.attendance === 'Hadir' ? 'text-green-500' : 'text-red-500'}">(${msg.attendance})</span>
                    </p>
                    <p class="text-gray-600 mt-1 text-sm">${msg.message}</p>
                </div>
            `).join('');
        }

        rsvpForm.addEventListener('submit', function (e) {
            e.preventDefault();

            const nameInput = document.getElementById('name');
            const messageInput = document.getElementById('message');
            const paxInput = document.getElementById('pax');
            const timeslotInput = document.getElementById('timeslot');
            const attendanceInput = rsvpForm.querySelector('input[name="attendance"]:checked');

            if (!nameInput.value || !attendanceInput) {
                showMessage("Sila lengkapkan ruangan Nama dan Kehadiran.", 'error');
                return;
            }

            const newMessage = {
                name: nameInput.value.trim(),
                message: messageInput.value.trim() || "Tiada Ucapan",
                attendance: attendanceInput.value,
                pax: paxInput.value,
                timeslot: timeslotInput.value
            };

            messages.unshift(newMessage); // Add new message to the top
            renderMessages();

            rsvpForm.reset();
            showMessage(`Ucapan dan maklum balas kehadiran (${newMessage.attendance} untuk ${newMessage.pax} orang) telah dihantar. Terima kasih!`, 'success');
        });

        // Initial render of existing messages
        document.addEventListener('DOMContentLoaded', renderMessages);

        // --- Music Control ---
        function toggleMusic(autoPlay = false) {
            const statusElement = document.getElementById('music-status-nav');
            const iconElement = document.getElementById('music-icon-nav');

            // Simulation: If text is 'Muzik' (off), change to 'Jeda' (on)
            const isPlaying = statusElement.textContent === 'Jeda';

            if (!isPlaying || autoPlay) {
                // Turn music ON (Simulated Play)
                statusElement.textContent = 'Jeda';
                // Icon for "Pause"
                iconElement.innerHTML = `<path d="M10 9l5 3-5 3V9zM9 19V6l12-3v13M9 19c-1.33 0-3-.67-3-2s1.67-2 3-2 3 .67 3 2-1.67 2-3 2zM21 17c-1.33 0-3-.67-3-2s1.67-2 3-2 3 .67 3 2-1.67 2-3 2z"></path>`;
                if (!autoPlay) showMessage('Lagu diaktifkan (Simulasi).', 'info');
            } else {
                // Turn music OFF (Simulated Pause)
                statusElement.textContent = 'Muzik';
                // Icon for "Play" (or initial state)
                iconElement.innerHTML = `<path d="M9 19V6l12-3v13M9 19c-1.33 0-3-.67-3-2s1.67-2 3-2 3 .67 3 2-1.67 2-3 2zM21 17c-1.33 0-3-.67-3-2s1.67-2 3-2 3 .67 3 2-1.67 2-3 2z"></path>`;
                if (!autoPlay) showMessage('Lagu dinyahaktifkan (Simulasi).', 'info');
            }
        }
    </script>
</body>

</html>
